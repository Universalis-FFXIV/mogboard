var mogboard=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/ui/",r(r.s="UmG/")}({"UmG/":function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.r(t);var a=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.icons={success:"xiv-SymbolCheck",error:"xiv-SymbolCross",warning:"xiv-SymbolAlert",info:"xiv-SymbolQuestion"},this.forceOpen=!1,this.ui=$(".popup"),this.ui.on("click",function(e){t.close()})}var t,r,a;return t=e,(r=[{key:"success",value:function(e,t){this.setPopupIcon("success").setTitle(e).setMessage(t).open()}},{key:"error",value:function(e,t){this.setPopupIcon("error").setTitle(e).setMessage(t).open()}},{key:"warning",value:function(e,t){console.log("title = "+e),this.setPopupIcon("warning").setTitle(e).setMessage(t).open()}},{key:"info",value:function(e,t){this.setPopupIcon("info").setTitle(e).setMessage(t).open()}},{key:"setTitle",value:function(e){return this.ui.find("h1").html(e),this}},{key:"setMessage",value:function(e){return this.ui.find("p").html(e),this}},{key:"open",value:function(){return this.ui.addClass("open"),this}},{key:"close",value:function(){if(!this.forceOpen)return this.ui.removeClass("open"),this}},{key:"setForcedOpen",value:function(e){this.forceOpen=e,e?this.ui.find(".popup_close_button").hide():this.ui.find(".popup_close_button").show()}},{key:"setPopupIcon",value:function(e){return this.ui.find(".popup_icon").attr("data-type",e),this.ui.find(".popup_icon i").removeClass(),this.ui.find(".popup_icon i").addClass(this.icons[e]),this}}])&&n(t.prototype,r),a&&n(t,a),e}());function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modalCover=$(".modal_cover"),this.modelCloseButton=$(".modal_close_button")}var t,r,n;return t=e,(r=[{key:"add",value:function(e,t){var r=this;t.on("click",function(t){r.modalCover.addClass("open"),e.addClass("open")}),this.modalCover.on("click",function(t){r.modalCover.removeClass("open"),e.removeClass("open")}),this.modelCloseButton.on("click",function(t){r.modalCover.removeClass("open"),e.removeClass("open")})}},{key:"close",value:function(e){this.modalCover.removeClass("open"),e.removeClass("open")}}])&&i(t.prototype,r),n&&i(t,n),e}());function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=r("p46w"),c=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uiModal=$(".modal_settings"),this.uiModalButton=$(".btn-settings"),this.defaultLanguage="en",this.defaultTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone,this.defaultLeftNav="off",this.defaultHomeWorld="no","undefined"===this.defaultTimezone&&(this.defaultTimezone="Europe/London"),this.storageKeyServer="mogboard_server",this.storageKeyLanguage="mogboard_language",this.storageKeyTimezone="mogboard_timezone",this.storageKeyLeftNav="mogboard_leftnav",this.storageKeyHomeWorld="mogboard_homeworld",this.server=this.getServer(),this.language=this.getLanguage(),this.timezone=this.getTimezone(),this.leftnav=this.getLeftNav(),this.homeworld=this.getHomeWorld()}var t,r,n;return t=e,(r=[{key:"init",value:function(){var e=this,t=this.getServer(),r=this.getLanguage(),n=this.getTimezone(),a=this.getLeftNav(),i=this.getHomeWorld();r=r||this.defaultLanguage,n=n||this.defaultTimezone,a=a||this.defaultLeftNav,i=i||this.defaultHomeWorld,null===t||0===t.length?setTimeout(function(){e.uiModalButton.trigger("click")},500):this.setServer(t),this.setLanguage(r),this.setTimezone(n),this.setLeftNav(a),this.setHomeWorld(i),this.uiModal.find("select.servers").val(t),this.uiModal.find("select.languages").val(r),this.uiModal.find("select.timezones").val(n),this.uiModal.find("select.leftnav").val(a),this.uiModal.find("select.homeworld").val(i)}},{key:"watch",value:function(){var e=this;o.add(this.uiModal,this.uiModalButton),this.uiModal.find(".servers").on("change",function(t){e.setServer($(t.currentTarget).val())}),this.uiModal.find(".languages").on("change",function(t){e.setLanguage($(t.currentTarget).val())}),this.uiModal.find(".timezones").on("change",function(t){e.setTimezone($(t.currentTarget).val())}),this.uiModal.find(".leftnav").on("change",function(t){e.setLeftNav($(t.currentTarget).val())}),this.uiModal.find(".homeworld").on("change",function(t){e.setHomeWorld($(t.currentTarget).val())}),this.uiModal.find(".btn-green").on("click",function(e){a.success("Settings Saved","Refreshing site, please wait..."),location.reload(!0)})}},{key:"getLocalStorageSetting",value:function(e,t){var r=localStorage.getItem(e);return r||t}},{key:"setLocalStorageSetting",value:function(e,t){localStorage.setItem(e,t),l.set(e,t,{expires:365,path:"/"})}},{key:"setServer",value:function(e){this.setLocalStorageSetting(this.storageKeyServer,e)}},{key:"getServer",value:function(){return this.getLocalStorageSetting(this.storageKeyServer,null)}},{key:"setLanguage",value:function(e){this.setLocalStorageSetting(this.storageKeyLanguage,e)}},{key:"getLanguage",value:function(){return this.getLocalStorageSetting(this.storageKeyLanguage,this.defaultLanguage)}},{key:"setTimezone",value:function(e){this.setLocalStorageSetting(this.storageKeyTimezone,e)}},{key:"getTimezone",value:function(){return this.getLocalStorageSetting(this.storageKeyTimezone,this.defaultTimezone)}},{key:"setLeftNav",value:function(e){this.setLocalStorageSetting(this.storageKeyLeftNav,e)}},{key:"getLeftNav",value:function(){return this.getLocalStorageSetting(this.storageKeyLeftNav,this.defaultLeftNav)}},{key:"setHomeWorld",value:function(e){this.setLocalStorageSetting(this.storageKeyHomeWorld,e)}},{key:"getHomeWorld",value:function(){return this.getLocalStorageSetting(this.storageKeyHomeWorld,this.defaultHomeWorld)}}])&&s(t.prototype,r),n&&s(t,n),e}());function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"watch",value:function(){$(".home-nav button").on("click",function(e){var t=$(e.currentTarget).attr("data-tab");$(".home-tab.open").removeClass("open"),$("#"+t).addClass("open")})}}])&&u(t.prototype,r),n&&u(t,n),e}());function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"watchForMenuClassToggle",value:function(e,t){e.on("click",function(e){window.scrollTo(0,0),t.toggleClass("open")})}},{key:"watchForMouseOut",value:function(e,t){$(document).mouseup(function(r){if(!e.is(r.target)&&0===e.has(r.target).length)return e.removeClass("open"),void 0===t?null:t()})}}])&&h(t.prototype,r),n&&h(t,n),e}());function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var g=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uiButtonMenu=$(".btn-menu"),this.uiViewMenu=$(".site-menu")}var t,r,n;return t=e,(r=[{key:"watch",value:function(){f.watchForMenuClassToggle(this.uiButtonMenu,this.uiViewMenu),f.watchForMouseOut(this.uiViewMenu)}}])&&m(t.prototype,r),n&&m(t,n),e}());function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uiButton=$(".user-btn"),this.uiMenu=$(".user-menu")}var t,r,n;return t=e,(r=[{key:"watch",value:function(){var e=this;this.uiButton.on("click",function(t){e.uiMenu.toggleClass("open")}),$(document).mouseup(function(t){var r=e.uiButton,n=e.uiMenu;r.is(t.target)||0!==r.has(t.target).length||n.is(t.target)||0!==n.has(t.target).length||e.uiMenu.removeClass("open")})}}])&&v(t.prototype,r),n&&v(t,n),e}());function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"getItemCategories",value:function(e,t){var r="/data/categories_[lang].js".replace("[lang]",e);fetch(r,{mode:"cors"}).then(function(e){return e.json()}).then(t)}},{key:"getItemPrices",value:function(e,t,r){var n=mog.url_item_price.replace("-server-",e).replace("-id-",t);fetch(n,{mode:"cors"}).then(function(e){return e.text()}).then(r)}},{key:"getItemHistory",value:function(e,t,r){var n=mog.url_item_history.replace("-server-",e).replace("-id-",t);fetch(n,{mode:"cors"}).then(function(e){return e.text()}).then(r)}},{key:"getItemPricesCrossWorld",value:function(e,t,r){var n=mog.url_item_cross_world.replace("-server-",e).replace("-id-",t);fetch(n,{mode:"cors"}).then(function(e){return e.text()}).then(r)}}])&&y(t.prototype,r),n&&y(t,n),e}());function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var w=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uiButton=$(".btn-market-board"),this.uiView=$(".market-board-container"),this.uiCategory=$(".market-category-container"),this.uiCategoryView=$(".market-category-view > div"),this.uiLazy=null,this.viewActive=!1,this.categories={}}var t,r,n;return t=e,(r=[{key:"watch",value:function(){var e=this;this.uiButton.on("click",function(t){window.scrollTo(0,0),e.uiView.toggleClass("open")}),this.uiView.find("button").on("click",function(t){window.scrollTo(0,0);var r=$(t.currentTarget).attr("id");e.openCategory(r)}),$(document).mouseup(function(t){var r=e.uiButton,n=e.uiView;r.is(t.target)||0!==r.has(t.target).length||n.is(t.target)||0!==n.has(t.target).length||e.uiView.removeClass("open")}),$(document).mouseup(function(t){var r=e.uiCategory;r.is(t.target)||0!==r.has(t.target).length||(e.uiCategory.removeClass("open"),e.viewActive=!1)}),$(document).mouseup(function(t){var r=e.uiCategoryView.parent();r.is(t.target)||0!==r.has(t.target).length||(e.uiCategoryView.parent().removeClass("open"),e.viewActive=!1)}),this.uiCategory.find(".market-category").on("click","a",function(t){e.uiCategory.find(".market-category").html('<div class="loading"><img src="/i/svg/loading2.svg"></div>')}),$("aside .nav-box button").on("click",function(t){var r=$(t.currentTarget).attr("id"),n=e.categories[r];e.uiCategoryView.parent().addClass("open"),e.uiCategoryView.html(""),e.uiCategoryView.append('<div class="gap"></div>'),n.forEach(function(t){var r=t[0],n=t[1],a="https://xivapi.com"+t[2],i=t[3],o=t[4],s=mog.url_item.replace("-id-",r),l=t[5];e.uiCategoryView.append('<a href="'.concat(s,'" class="rarity-').concat(o,'">\n                        <span>\n                            <img src="https://xivapi.com/mb/loading.svg" class="lazy" data-src="').concat(a,'">\n                        </span>\n                        <span>\n                            <div><span class="item-level">').concat(i,"</span> ").concat(n,"</div>\n                            <small>").concat(l,"</small>\n                        </span>\n                    </a>"))}),e.uiCategoryView.append('<div class="gap"></div>'),e.uiCategoryView.append('<div class="gap"></div>');var a=$(".lazy").Lazy({scrollDirection:"vertical",appendScroll:$(".item-category-list2"),effect:"fadeIn",visibleOnly:!1,bind:"event"});new SimpleBar(document.getElementById("item-category-list2")).getScrollElement().addEventListener("scroll",function(e){a.data("plugin_lazy").update()})})}},{key:"loadCategories",value:function(){var e=this;_.getItemCategories(c.getLanguage(),function(t){e.categories=t})}},{key:"openCategory",value:function(e){var t=this;this.uiView.removeClass("open"),this.uiCategory.addClass("open"),this.uiCategory.find(".market-category").html("");var r=cats[e],n=this.categories[e],a=[];n.forEach(function(e){var t=e[0],r=e[1],n="https://xivapi.com"+e[2],i=e[3],o=e[4],s=mog.url_item.replace("-id-",t);a.push('<a href="'.concat(s,'" class="rarity-').concat(o,'">\n                    <span class="item-icon"><img src="http://xivapi.com/mb/loading.svg" class="lazy" data-src="').concat(n,'"></span>\n                    <span class="item-level">').concat(i,"</span>\n                    ").concat(r,"\n                </a>"))}),this.uiCategory.find(".market-category").html('\n            <div class="item-category-header">\n                <div>\n                    '.concat(r.Name," - ").concat(n.length,' items\n                </div>\n                <div>&nbsp;</div>\n            </div>\n            <div data-simplebar class="item-category-list" id="item-category-list">').concat(a.join(""),"</div>\n        ")),this.viewActive=!0,this.uiLazy=$(".lazy").Lazy({scrollDirection:"vertical",appendScroll:$(".item-category-list"),effect:"fadeIn",visibleOnly:!1,bind:"event"}),this.setSearchHeight(),new SimpleBar(document.getElementById("item-category-list")).getScrollElement().addEventListener("scroll",function(e){t.uiLazy.data("plugin_lazy").update()})}},{key:"setSearchHeight",value:function(){if(this.viewActive){var e=$(".item-category-list"),t=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-260;e.css({height:"".concat(t,"px")})}}},{key:"setLoadingLazyLoadWatcher",value:function(){var e=this;new SimpleBar(document.getElementById("item-category-list")).getScrollElement().addEventListener("scroll",function(t){e.uiLazy.data("plugin_lazy").update()})}}])&&b(t.prototype,r),n&&b(t,n),e}());function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var k=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"get",value:function(e,t,r){(t=t||{}).language=c.getLanguage(),e=e+"?"+Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&"),fetch("https://xivapi.com".concat(e),{mode:"cors"}).then(function(e){return e.json()}).then(r)}},{key:"search",value:function(e,t){var r={indexes:"item",filters:"ItemSearchCategory.ID>=1",columns:"ID,Icon,Name,LevelItem,Rarity,ItemSearchCategory.Name,ItemSearchCategory.ID,ItemKind.Name",string:e.trim(),limit:100};this.get("/search",r,t)}},{key:"searchLimited",value:function(e,t){var r={indexes:"item",filters:"ItemSearchCategory.ID>=1",columns:"ID,Name",string:e.trim(),limit:10};this.get("/search",r,t)}},{key:"searchCharacter",value:function(e,t,r){this.get("/character/search",{name:e,server:t},r)}},{key:"getCharacter",value:function(e,t){this.get("/character/".concat(e),{},t)}},{key:"characterVerification",value:function(e,t,r){this.get("/character/".concat(e,"/verification"),{token:t},r)}},{key:"getItem",value:function(e,t){this.get("/Item/".concat(e),{},t)}},{key:"getServerList",value:function(e){this.get("/servers/dc",{},e)}},{key:"getMarketPrices",value:function(e,t,r){var n={columns:"Prices,Item",servers:t};this.get("/market/item/".concat(e),n,r)}}])&&C(t.prototype,r),n&&C(t,n),e}());function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var I=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uiInput=$("input.search"),this.uiView=$(".search-results-container"),this.loading=$(".search-loading"),this.uiLazy=null,this.searchTerm=null}var t,r,n;return t=e,(r=[{key:"watch",value:function(){var e=this;this.uiInput.on("keyup",function(t){e.uiView.removeClass("open"),e.uiInput.removeClass("complete");var r=$(t.currentTarget).val().trim();if(0===r.length?e.uiInput.removeClass("typing"):e.uiInput.addClass("typing"),0===r.length)return e.searchTerm="",void e.uiView.removeClass("open");r.length<2||(e.searchTerm=$(t.currentTarget).val().trim(),e.uiView.addClass("open"),13===t.keyCode&&(e.loading.addClass("on"),k.search(r,function(t){e.loading.removeClass("on"),e.render(t)})))}),f.watchForMouseOut(this.uiView,function(){e.uiInput.removeClass("complete typing")}),$(window).on("resize",function(t){e.setSearchHeight()})}},{key:"render",value:function(e){var t=this;window.scrollTo(0,0),this.uiInput.removeClass("typing"),this.uiInput.addClass("complete");var r=[];e.Results.forEach(function(e,t){var n=mog.url_item.replace("-id-",e.ID);r.push('<a href="'.concat(n,'" class="rarity-').concat(e.Rarity,'">\n                    <span class="item-icon"><img src="http://xivapi.com/mb/loading.svg" class="lazy" data-src="https://xivapi.com').concat(e.Icon,'"></span>\n                    <span class="item-level">').concat(e.LevelItem,"</span>\n                    ").concat(e.Name,'\n                    <span class="item-category">').concat(e.ItemSearchCategory.Name,"</span>\n                </a>"))}),this.uiView.find(".search-results").html('\n            <div class="item-search-header">\n                <div>\n                    Found '.concat(e.Pagination.Results," / ").concat(e.Pagination.ResultsTotal," for <strong>").concat(this.searchTerm,'</strong>\n                </div>\n                <div>\n                </div>\n            </div>\n            <div data-simplebar class="item-search-list" id="item-search-list">').concat(r.join(""),"</div>\n        ")),this.uiLazy=$(".lazy").Lazy({scrollDirection:"vertical",appendScroll:$(".item-search-list"),effect:"fadeIn",visibleOnly:!1,bind:"event"}),this.setSearchHeight(),new SimpleBar(document.getElementById("item-search-list")).getScrollElement().addEventListener("scroll",function(e){t.uiLazy.data("plugin_lazy").update()}),this.uiView.addClass("open")}},{key:"setSearchHeight",value:function(){if(this.searchTerm){var e=$(".item-search-list"),t=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-260;e.css({height:"".concat(t,"px")})}}}])&&T(t.prototype,r),n&&T(t,n),e}());function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var L=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"start",value:function(e){e.attr("data-text",e.html()),e.addClass("loading_interaction"),e.prop("disabled",!0),e.css({"min-width":"".concat(e.outerWidth(),"px"),"min-height":"".concat(e.outerHeight(),"px"),display:"inline-block"}),e.html("&nbsp;")}},{key:"finish",value:function(e){var t=e.attr("data-text");e.removeClass("loading_interaction"),e.prop("disabled",!1),e.html(t)}},{key:"disable",value:function(e,t){e.attr("data-text",e.html()),e.removeClass("loading_interaction"),e.prop("disabled",!0),e.html(t)}}])&&S(t.prototype,r),n&&S(t,n),e}());function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var F=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uiButtons=$(".product .item_nav"),this.uiTabs=$(".product .tab"),this.uiCategory=$(".product .product-search-cat"),this.uiUpdate=$(".btn_update")}var t,r,n;return t=e,(r=[{key:"watch",value:function(){var e=this;this.uiButtons.find("button").on("click",function(t){var r=$(t.currentTarget).attr("data-tab");e.switchTab(t,r)}),this.uiTabs.find(".tab-page button").on("click",function(t){var r=$(t.currentTarget).attr("data-tab");e.switchTabView(t,r)}),this.uiCategory.on("click",function(e){var t=$(e.currentTarget).attr("data-cat");w.openCategory(t)}),$(document).scroll(function(t){var r=$(document).scrollTop(),n=e.uiButtons;r>=300?n.addClass("fixed"):n.removeClass("fixed")}),$(".item_nav_mobile_toggle").on("click",function(e){$(".item_nav").toggleClass("open")}),$(".btn_update").on("click",function(t){L.start(e.uiUpdate),"undefined"!=typeof itemId?$.ajax({url:mog.urls.items.update.replace("-id-",itemId),success:function(e){a.success("Update Status",e.message)},error:function(e,t,r){a.error("Error 8F","Could not update item! Try again later."),console.log(e,t,r)},complete:function(){L.finish(e.uiUpdate)}}):a.error("Error 6D","Some how you do not have the item id assigned")})}},{key:"switchTab",value:function(e,t){this.uiButtons.find("button.open").removeClass("open"),this.uiTabs.find(".tab-page.open").removeClass("open"),$(e.currentTarget).addClass("open"),this.uiTabs.find(".tab-".concat(t)).addClass("open")}},{key:"switchTabView",value:function(e,t){var r=this.uiTabs.find(".tab-page.open");r.find("button.active").removeClass("active"),r.find("div.cw-table").removeClass("open"),r.find('button[data-tab="'.concat(t,'"]')).addClass("active"),r.find(".".concat(t)).addClass("open")}}])&&A(t.prototype,r),n&&A(t,n),e}());function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var R=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maxTriggers=15,this.deleteId=null,this.editId=null,this.alert=this.getAlertTemplate(),this.uiForm=$(".alert_form"),this.uiTriggers=$(".alert_entries"),this.uiAlerts=$(".alerts_table"),this.uiDeleteConfirm=$(".btn_alert_delete_confirm")}var t,r,n;return t=e,(r=[{key:"getAlertTemplate",value:function(){return{alert_item_id:"market"==mog.path?itemId:null,alert_name:null,alert_nq:null,alert_hq:null,alert_dc:null,alert_notify_discord:null,alert_notify_email:null,alert_triggers:[],alert_type:null}}},{key:"watch",value:function(){var e=this;"market"==mog.path&&(this.uiForm.on("click",".alert_trigger_add",function(t){e.addCustomTrigger(t)}),this.uiForm.on("click",".alert_trigger_remove",function(t){e.removeCustomTrigger(t)}),this.uiForm.on("click",".btn_create_alert",function(t){e.saveAlert(t)}),this.uiForm.on("click",".btn_new_alert",function(t){e.newAlert(t)}),this.uiAlerts.on("click",".btn_alert_delete",function(t){e.deleteAlert(t)}),this.uiAlerts.on("click",".btn_alert_edit",function(t){e.editAlert(t)}),this.loadAlerts(),this.uiDeleteConfirm.on("click",function(t){e.deleteAlertConfirmation()}),o.add($(".alert_info"),$(".alert_info_button button")))}},{key:"addCustomTrigger",value:function(e){if(e.preventDefault(),this.alert.alert_triggers.length>=this.maxTriggers)a.error("Max Triggers Reached","You can add a maximum of ".concat(this.maxTriggers," to a single alert. Sorry!"));else{var t={id:Math.floor(99999*Math.random()+1),alert_trigger_field:this.uiForm.find("#alert_trigger_field").val().trim(),alert_trigger_op:this.uiForm.find("#alert_trigger_op").val().trim(),alert_trigger_value:this.uiForm.find("#alert_trigger_value").val().trim()};this.addCustomTriggerVisual(t,!0)}}},{key:"addCustomTriggerVisual",value:function(e,t){if(0!==e.alert_trigger_value.length){var r=e.alert_trigger_field.split("_")[0];if(t){if(null==this.alert.alert_type)this.alert.alert_type=r;else if(r!=this.alert.alert_type)return void a.error("Mismatch Data Types","You cannot mix Prices or History triggers in the same alert.");if(["Prices_IsCrafted","Prices_IsHQ","Prices_HasMateria","History_IsHQ"].indexOf(e.alert_trigger_field)>-1){if(-1===["0","1"].indexOf(e.alert_trigger_value))return void a.error("Invalid Condition Value","For the selected trigger field, <br> your trigger value must either be: <br> a 0 (False/No) OR a 1 (True/Yes).");if(-1===["5","6"].indexOf(e.alert_trigger_op))return void a.error("Invalid Operator","For the selected trigger field, <br> your trigger operator must be either: <br> = Equal-to OR != Not equal-to")}}this.alert.alert_triggers.push(e),this.uiTriggers.append('\n            <div id="custom_trigger_'.concat(e.id,'">\n                <div><button type="button" class="alert_trigger_remove small" data-id="').concat(e.id,'"><i class="xiv-NavigationClose"></i></button></div>\n                <div>\n                    <code>\n                        <span>').concat(e.alert_trigger_field,"</span>\n                        <em>").concat(alert_trigger_operators[e.alert_trigger_op],":</em>\n                        <strong>").concat(e.alert_trigger_value,"</strong>\n                    </code>\n                </div>\n            </div>\n        "))}else a.error("Invalid Condition Value","The triggers condition value is empty.")}},{key:"removeCustomTrigger",value:function(e){var t=this,r=$(e.currentTarget).attr("data-id");this.uiForm.find("#custom_trigger_".concat(r)).remove(),this.alert.alert_triggers.forEach(function(e,n){e.id==r&&t.alert.alert_triggers.splice(n,1)}),0===this.alert.alert_triggers.length&&(this.alert.alert_type=null)}},{key:"saveAlert",value:function(e){var t=this;if(e.preventDefault(),this.alert.alert_name=this.uiForm.find("#alert_name").val().trim(),this.alert.alert_nq=this.uiForm.find("#alert_nq").prop("checked"),this.alert.alert_hq=this.uiForm.find("#alert_hq").prop("checked"),this.alert.alert_dc=this.uiForm.find("#alert_dc").prop("checked"),this.alert.alert_notify_discord=this.uiForm.find("#alert_notify_discord").prop("checked"),this.alert.alert_notify_email=this.uiForm.find("#alert_notify_email").prop("checked"),this.alert.alert_dps_perk=this.uiForm.find("#alert_dps_perk").prop("checked"),this.alert.alert_name.length<3||this.alert.alert_name.length>100)a.error("Name Length","Please keep your alert name <br> between 4 and 100 characters");else if(!1!==this.alert.alert_hq||!1!==this.alert.alert_nq)if(!1!==this.alert.alert_notify_discord||!1!==this.alert.alert_notify_email)if(0!==this.alert.alert_triggers.length){var r=this.uiForm.find(".btn_create_alert");L.start(r);var n=this.editId?mog.urls.alerts.update.replace("-id-",this.editId):mog.urls.alerts.create;$.ajax({url:n,type:"POST",dataType:"json",data:JSON.stringify(this.alert),contentType:"application/json",success:function(e){t.loadAlerts();var r=e[0],n=e[1];if(n.length<1&&(n="(No response message)"),r)return a.success("Alert Saved",n),void t.loadAlerts();a.success("Alert not created","Could not create alert, reason: ".concat(n))},error:function(e,t,r){a.error("Error 23","Could not create the alert. Ask Vek why!"),console.log("--- ERROR ---"),console.log(e,t,r)},complete:function(){L.finish(r)}})}else a.error("No Triggers","You have not set any triggers <br> on your alert, fix that!");else a.error("Error: Notification","You must choose to be notified <br> either by discord or by email.");else a.error("Error: HQ/NQ","You must choose either: <br> Normal Quality, High-Quality or Both.")}},{key:"loadAlerts",value:function(){var e=this;!1!==mog.isOnline&&$.ajax({url:mog.urls.alerts.renderForItem.replace("-id-",itemId),success:function(t){e.uiAlerts.html(t),o.add($(".alert_delete_confirmation_modal"),$(".btn_alert_delete"))},error:function(t,r,n){e.uiAlerts.html('<div class="alert-red">Could not load any alerts for this item.</div>'),console.log("--- ERROR ---"),console.log(t,r,n)}})}},{key:"editAlert",value:function(e){var t=this;this.newAlert();var r=$(e.currentTarget);this.editId=r.attr("data-id"),L.start(r),this.toggleAlertFormLoading(!0),$.ajax({url:mog.urls.alerts.edit.replace("-id-",this.editId),type:"GET",success:function(e){t.editId=e.id,t.uiForm.find("#alert_name").val(e.alert_name),t.uiForm.find("#alert_nq").prop("checked",e.alert_nq),t.uiForm.find("#alert_hq").prop("checked",e.alert_hq),t.uiForm.find("#alert_dc").prop("checked",e.alert_dc),t.uiForm.find("#alert_notify_discord").prop("checked",e.alert_notify_discord),t.uiForm.find("#alert_notify_email").prop("checked",e.alert_notify_email),t.uiForm.find("#alert_dps_perk").prop("checked",e.alert_dps_perk),t.alert.alert_name=e.alert_name,t.alert.alert_nq=e.alert_nq,t.alert.alert_hq=e.alert_hq,t.alert.alert_dc=e.alert_dc,t.alert.alert_notify_discord=e.alert_notify_discord,t.alert.alert_notify_email=e.alert_notify_email,t.alert.alert_dps_perk=e.alert_dps_perk,e.triggers.forEach(function(e,r){t.addCustomTriggerVisual({id:Math.floor(99999*Math.random()+1),alert_trigger_field:e[0],alert_trigger_op:e[1],alert_trigger_value:e[2]})}),$(".alert_form").addClass("edit_mode")},error:function(e,t,r){a.error("Error 8456","Could not fetch alert to edit."),console.log("--- ERROR ---"),console.log(e,t,r)},complete:function(){L.finish(r),t.toggleAlertFormLoading(!1)}})}},{key:"deleteAlert",value:function(e){this.deleteId=$(e.currentTarget).attr("data-id");var t=$(e.currentTarget).parents("tr").attr("data-name");$(".alert_delete_confirmation_modal").find("h1").html(t)}},{key:"deleteAlertConfirmation",value:function(){var e=this,t=mog.urls.alerts.delete.replace("-id-",this.deleteId);L.start(this.uiDeleteConfirm),this.newAlert(),$.ajax({url:t,type:"GET",success:function(t){e.loadAlerts(),a.success("Alert Deleted","This alert has been deleted")},error:function(e,t,r){a.error("Error 75","Could not delete alert."),console.log("--- ERROR ---"),console.log(e,t,r)},complete:function(){L.finish(e.uiDeleteConfirm),o.close($(".alert_delete_confirmation_modal"))}})}},{key:"newAlert",value:function(){$(".alert_form").removeClass("edit_mode"),this.deleteId=null,this.editId=null,this.alert=this.getAlertTemplate(),this.uiForm.find("#alert_name").val(""),this.uiForm.find("#alert_nq").prop("checked",!1),this.uiForm.find("#alert_hq").prop("checked",!1),this.uiForm.find("#alert_dc").prop("checked",!1),this.uiForm.find("#alert_notify_discord").prop("checked",!1),this.uiForm.find("#alert_notify_email").prop("checked",!1),this.uiForm.find("#alert_dps_perk").prop("checked",!1),this.uiTriggers.html(""),this.uiForm.find("#alert_trigger_field option:first").prop("selected",!0),this.uiForm.find("#alert_trigger_op option:first").prop("selected",!0),this.uiForm.find("#alert_trigger_value").val("")}},{key:"toggleAlertFormLoading",value:function(e){var t=$(".alert-form-loading");e?t.addClass("show"):t.removeClass("show")}}])&&x(t.prototype,r),n&&x(t,n),e}()),E={couldNotFavourite:[1e3,"Could not add item to favourites."],couldNotCreateNewList:[1001,"Could not create a new list."],couldNotAddItem:[1002,"Could not add item to list."],couldNotRemoveItem:[1003,"Could not remove item from list."]};function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var N=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"get",value:function(e,t,r,n,a){this.handleAjax("GET",e,t,r,n,a)}},{key:"post",value:function(e,t,r,n,a){this.handleAjax("GET",e,t,r,n,a)}},{key:"handleAjax",value:function(e,t,r,n,i,o){$.ajax({url:t,type:e,data:r,success:n,complete:i,error:function(e,t,r){a.error("Error ".concat(o[0]),o[1]),console.error(e,t,r)}})}}])&&M(t.prototype,r),n&&M(t,n),e}());function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var O=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uiModal=$(".list_modal"),this.uiModalButton=$(".btn_addto_list"),this.uiFaveButton=$(".btn_addto_fave"),this.uiCreateForm=$(".create_list_form"),this.uiListsView=$(".user_lists")}var t,r,n;return t=e,(r=[{key:"watch",value:function(){var e=this;o.add(this.uiModal,this.uiModalButton),this.loadLists(),this.uiCreateForm.on("submit",function(t){t.preventDefault(),e.create(e.uiCreateForm.find("#list_name").val().trim(),itemId)}),this.uiCreateForm.on("click",".user_list_existing_button",function(t){var r=$(t.currentTarget).attr("data-id");"add"==$(t.currentTarget).attr("data-action")?e.addItem(r,itemId):e.removeItem(r,itemId)}),this.uiFaveButton.on("click",function(t){e.addToFavourite()})}},{key:"loadLists",value:function(){var e=this,t={itemId:itemId};N.get(mog.urls.lists.render,t,function(t){e.uiListsView.html(t)})}},{key:"addToFavourite",value:function(){var e=this;L.start(this.uiFaveButton);var t={itemId:itemId};N.post(mog.urls.lists.favourite,t,function(t){t.state?e.uiFaveButton.addClass("on"):e.uiFaveButton.removeClass("on"),e.uiFaveButton.find("span").text(t.state?"Faved":"Favourite"),o.close(e.uiModal),a.success(t.state?"Added to Faves":"Removed from Faves",t.state?"Why you love this item so much!? Added to your favourites.":"Unpopular item ey, removed from your favourites."),e.loadLists()},function(){L.finish(e.uiFaveButton)},E.couldNotFavourite)}},{key:"create",value:function(e,t){var r=this,n=this.uiCreateForm.find('button[type="submit"]');if(L.start(n),e.length<3)a.error("name too short","Your list name is a bit too short, please enter in a name to create a list!");else{var i={name:e,itemId:t};N.post(mog.urls.lists.create,i,function(e){r.loadLists(),o.close(r.uiModal),a.success("Created list","Your new list has been created and the item added to it!")},function(){L.finish(n)},E.couldNotCreateNewList)}}},{key:"addItem",value:function(e,t){var r=this;this.uiListsView.html('<div align="center"><img src="/i/svg/loading3.svg" height="32"></div>');var n={itemId:t};N.post(mog.urls.lists.addItem.replace("-id-",e),n,function(e){r.loadLists(),o.close(r.uiModal),a.success("Added to list","Your item has been saved to this list!")},null,E.couldNotAddItem)}},{key:"removeItem",value:function(e,t){var r=this;this.uiListsView.html('<div align="center"><img src="/i/svg/loading3.svg" height="32"></div>');var n={itemId:t};N.post(mog.urls.lists.removeItem.replace("-id-",e),n,function(e){r.loadLists(),o.close(r.uiModal),a.success("Removed from list","Item has been removed from the list.")},null,E.couldNotRemoveItem)}}])&&P(t.prototype,r),n&&P(t,n),e}());function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var V=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uiAddCharacterResponse=$(".character_add_response")}var t,r,n;return t=e,(r=[{key:"watch",value:function(){"account"==mog.path&&this.handleNewCharacterSearch()}},{key:"handleNewCharacterSearch",value:function(){var e=this,t=$(".character_add");t.on("click",function(r){var n={string:$("#character_string").val().trim(),server:$("#character_server").val().trim()},i=null;n.string.indexOf("finalfantasyxiv.com")>-1&&(n.string=n.string.split("/"),n.string=n.string[5],i=n.string),-1==n.string.indexOf(" ")&&(i=n.string),0!=n.string.length?(L.start(t),i?e.handleNewCharacterViaLodestoneId(i):(e.uiAddCharacterResponse.html("Searching lodestone for your character..."),k.searchCharacter(n.string,n.server,function(r){if(0===r.Pagination.ResultsTotal)return a.error("Not Found (code 32)","Could not find your character on lodestone, try entering the Lodestone URL for your character."),e.uiAddCharacterResponse.html(""),void L.finish(t);var i=!1;r.Results.forEach(function(t){t.Name==n.string&&(i=!0,e.handleNewCharacterViaLodestoneId(t.ID))}),!1===i&&(a.error("Not Found (code 8)","Could not find your character on lodestone, try entering the Lodestone URL for your character."),L.finish(t),e.uiAddCharacterResponse.html(""))}))):a.error("Nothing entered?","I think you forgot to type something...")})}},{key:"handleNewCharacterViaLodestoneId",value:function(e,t){var r=this,n=$(".character_add");this.uiAddCharacterResponse.html("Searching for your character..."),k.getCharacter(e,function(i){return 1==i.Info.Character.State&&!0!==t?(r.uiAddCharacterResponse.html("Character being added to XIVAPI, please wait ..."),void setTimeout(function(){r.handleNewCharacterViaLodestoneId(e,!0)},3e3)):2==i.Info.Character.State?(r.uiAddCharacterResponse.html("Character found, verifying auth code."),void k.characterVerification(e,verify_code,function(t){if(!1===t.Pass)return a.error("Auth Code Not Found","Could not find your auth code (".concat(verify_code,") on your characters profile, try again!")),r.uiAddCharacterResponse.html(""),void L.finish(n);r.uiAddCharacterResponse.html("Auth code found, adding character..."),$.ajax({url:mog.urls.characters.add.replace("-id-",e),success:function(e){if(!0===e)return a.success("Character Added!","Your character has been added, the page will refresh in 3 seconds."),a.setForcedOpen(!0),void setTimeout(function(){location.reload()},3e3);a.error("Character failed to add","Error: ".concat(e.Message))},error:function(e,t,r){a.error("Something Broke (code 145)","Could not add your character, please hop on discord and complain to Vekien"),console.error(e,t,r)},complete:function(){r.uiAddCharacterResponse.html(""),L.finish(n)}})})):(a.error("Failed to Add Character","Could not add character, please hop on Discord and complain to Vekien!"),r.uiAddCharacterResponse.html(""),void L.finish(n))})}}])&&j(t.prototype,r),n&&j(t,n),e}());function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var z=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stateAdding=!1,this.uiAddRetainerResponse=$(".retainer_add_response"),this.uiItemSearchResponse=$(".retainer_item_search_response")}var t,r,n;return t=e,(r=[{key:"watch",value:function(){"account"==mog.path&&(this.handleNewRetainerAdd(),this.watchItemSearchInput(),this.watchRetainerConfirmation())}},{key:"watchRetainerConfirmation",value:function(){var e=$(".retainer_confirm");e.on("click",function(t){L.start(e);var r=$(t.currentTarget).attr("data-id");$.ajax({url:mog.urls.retainers.confirm.replace("-id-",r),success:function(e){var t=e[0],r=e[1];r.trim().length<1&&(r="Could not add your retainer, the Companion Servers may be having issues. Please try again soon or contact Vekien on discord"),0!=t?(a.success("Retainer Confirmed!","You are all good to go, the retainer is yours! <br> The site will refresh in 3 seconds."),a.setForcedOpen(!0),setTimeout(function(){location.reload()},3e3)):a.error("Not yet!",r)},error:function(e,t,r){console.error(e,t,r)},complete:function(){L.finish(e),L.disable(e)}})})}},{key:"watchItemSearchInput",value:function(){var e=this,t=$(".retainer_item_search"),r=null,n=null;t.on("keyup",function(a){var i=t.val().trim();clearTimeout(r),i.length<2||i==n||(e.uiItemSearchResponse.html('<div align="center"><img src="/i/svg/loading3.svg" height="32"></div>'),r=setTimeout(function(){k.searchLimited(i,function(t){n=i,null!=t&&0!=t.Pagination.Results?(e.uiItemSearchResponse.html(""),t.Results.forEach(function(t){e.uiItemSearchResponse.append('<button class="item_button" data-id="'.concat(t.ID,'">').concat(t.Name,"</button>"))})):e.uiItemSearchResponse.html("<p>Could not find an item</p>")})},250))}),this.uiItemSearchResponse.on("click","button",function(t){var r=$(t.currentTarget).attr("data-id"),n=$("#retainer_server").val().trim();e.uiItemSearchResponse.html("<p>Checking market prices to ensure this is a safe item to verify with.</p>"),k.getMarketPrices(r,n,function(t){if(void 0===t.Error){var i=t[n];i.Prices.length>=50?a.warning("High Sale","There are over 50 of these items for sale. Companion API can only provide a maximum of 50 sales, please choose an item with a lower sale stock count."):(e.uiItemSearchResponse.html('<p class="text-green tac"><strong>'.concat(i.Item.Name,"</strong> is a good item to confirm with, continue with the form!</p>")),$(".retainer_item_search").val(i.Item.Name),$(".retainer_add").prop("disabled",!1),$("#retainer_item").val(r))}else a.error("Error","There was an error returning market information, this is a problem with XIVAPI. This is being looked into.")})})}},{key:"handleNewRetainerAdd",value:function(){var e=this,t=$(".retainer_add");t.on("click",function(r){if(!e.stateAdding){var n={name:$("#retainer_string").val().trim(),server:$("#retainer_server").val().trim(),itemId:$("#retainer_item").val().trim()};n.name.length<2?a.error("No name?","is your retainer name really below 2 characters?"):(L.start(t),e.stateAdding=!0,$.ajax({url:mog.urls.retainers.add,data:n,success:function(e){if(!0===e)return a.success("Retainer Added!","Your retainer has been added, the page will refresh in 3 seconds."),a.setForcedOpen(!0),void setTimeout(function(){location.reload()},3e3);a.error("Retainer failed to add","Error: ".concat(e.Message))},error:function(e,t,r){a.error("Something Broke (code 148)","Could not add your retainer, please hop on discord and complain to Vekien"),console.error(e,t,r)},complete:function(){e.stateAdding=!1,e.uiAddRetainerResponse.html(""),L.finish(t)}}))}})}}])&&B(t.prototype,r),n&&B(t,n),e}());function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var D=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"watch",value:function(){"account"==mog.path&&(this.handlePatreonStatusCheck(),this.handlePatreonFriendAssignment())}},{key:"handlePatreonStatusCheck",value:function(){var e=$(".check_patreon_status");e.on("click",function(t){L.start(e),$.ajax({url:mog.urls.account.check_patreon,success:function(e){e.ok?a.success("Patreon Confirmed!","Your support is much appreciated. Refresh the site to see the changes :) - Thank you"):a.error("There was a problem (code: 22)","Could not detect Patreon status, please make sure you are in the XIVAPI Admin and have accepted your Discord Reward on Patreon, if you have problems, message Vekien on Discord.")},error:function(e,t,r){a.error("There was a problem (code: 47)","Please jump on discord and message Vekien with the error code to sort this out! Thank you"),console.error(e,t,r)},complete:function(){L.finish(e)}})})}},{key:"handlePatreonFriendAssignment",value:function(){$(".pat-friend-promote button").on("click",function(e){var t=$(e.target),r=t.attr("id");L.start(t),$.ajax({url:"/account/patreon/perks/benefit",data:{id:r},success:function(e){10===e&&a.success("All Good!","This member now has benefit patreon features!"),20===e&&a.success("All Good!","This users patreon benefits status has been removed."),t.after("<p>✔</p>"),t.remove()},error:function(e,t,r){var n=e.responseJSON;a.error("Error",n.Message)},complete:function(){L.finish(t)}}),console.log(r)})}}])&&H(t.prototype,r),n&&H(t,n),e}());c.init(),c.watch(),p.watch(),g.watch(),w.watch(),w.loadCategories(),I.watch(),d.watch(),"undefined"!=typeof appEnableItemPage&&1===appEnableItemPage&&(F.watch(),R.watch(),O.watch()),D.watch(),"undefined"!=typeof appEnableCharacters&&1===appEnableCharacters&&V.watch(),"undefined"!=typeof appEnableRetainers&&1===appEnableRetainers&&z.watch();t.default={HeaderCategories:w}},p46w:function(e,t,r){var n,a;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(a="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=a),!0,e.exports=i(),!!0){var o=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=o,s}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}return function t(r){function n(t,a,i){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},n.defaults,i)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{o=JSON.stringify(a),/^[\{\[]/.test(o)&&(a=o)}catch(e){}a=r.write?r.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var c in i)i[c]&&(l+="; "+c,!0!==i[c]&&(l+="="+i[c]));return document.cookie=t+"="+a+l}t||(o={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,h=0;h<u.length;h++){var f=u[h].split("="),m=f.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var g=f[0].replace(d,decodeURIComponent);if(m=r.read?r.read(m,g):r(m,g)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(t===g){o=m;break}t||(o[g]=m)}catch(e){}}return o}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,r){n(t,"",e(r,{expires:-1}))},n.withConverter=t,n}(function(){})})}}).default;